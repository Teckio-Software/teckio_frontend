<section class="m-2">
  <div class="flex mb-2">
    <button
      (click)="abrirModalCliente()"
      class="flex align-items-center rounded-md bg-colorButton transition-colors delay-75 hover:bg-colorButtonHover font-light text-white p-1"
    >
      <p
        class="text-[#f2f2f2] titular bg-custom-bg w-52 font-medium text-base tracking-wider m-0 text-center xs:text-[10px] xs:w-24"
      >
        Nuevo cliente
      </p>
      <img src="assets/add.svg" alt="" />
    </button>
  </div>
  <div
    class="overflow-y-auto overflow-x-auto w-full rounded-lg shadow-md whitespace-nowrap mx-auto"
    *ngIf="existenClientes"
  >
    <table
      class="text-sm w-full mb-0"
    >
      <thead class="bg-primario text-white">
        <tr>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Razon Social</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">RFC</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Correo Electrónico</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Teléfono</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Representante Legal</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Domicilio</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Número Exterior</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Colonia</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Municipio</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Codigo Postal</th>
          <th class="px-1 py-[2px] xs:w-[75px]" scope="col">Acción</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="isLoading">
          <tr>
            <!-- Razón Social -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- RFC -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Correo Electrónico-->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Teléfono -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-32 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Representante Legal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-40 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Domicilio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- No. Exterior -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-20 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Colonia -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Municipio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Código postal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-24 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Acciones -->
            <td scope="col">
              <div
                role="status"
                class="max-w-sm animate-pulse"
              >
                <div
                  class="h-5 bg-gray300 rounded-full w-14 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
          </tr>
          <tr>
            <!-- Razón Social -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- RFC -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Correo Electrónico-->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Teléfono -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-32 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Representante Legal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-40 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Domicilio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- No. Exterior -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-20 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Colonia -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Municipio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Código postal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-24 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Acciones -->
            <td scope="col">
              <div
                role="status"
                class="max-w-sm animate-pulse"
              >
                <div
                  class="h-5 bg-gray300 rounded-full w-14 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
          </tr>
          <tr>
            <!-- Razón Social -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- RFC -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Correo Electrónico-->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-48 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Teléfono -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-32 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Representante Legal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-40 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Domicilio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- No. Exterior -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-20 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Colonia -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Municipio -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-28 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Código postal -->
            <td class="px-1" scope="col">
              <div role="status" class="max-w-sm animate-pulse">
                <div
                  class="h-5 bg-gray300 rounded-full w-24 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
            <!-- Acciones -->
            <td scope="col">
              <div
                role="status"
                class="max-w-sm animate-pulse"
              >
                <div
                  class="h-5 bg-gray300 rounded-full w-14 xs:w-14 xs:h-3 mt-1 mb-1"
                ></div>
              </div>
            </td>
          </tr>
        </ng-container>
        <tr
          *ngFor="let cliente of clientes"
          [ngClass]="{ 'change-background-color': cliente.id === changeColor }"
          (click)="VerCuentasBancariaCliente(cliente.id)"
          class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
        >
          <td class="td-0" scope="col">{{ cliente.razonSocial }}</td>
          <td class="td-0" scope="col">{{ cliente.rfc }}</td>
          <td class="td-0" scope="col">{{ cliente.email }}</td>
          <td class="td-0" scope="col">{{ cliente.telefono }}</td>
          <td class="td-0" scope="col">{{ cliente.representanteLegal }}</td>
          <td class="td-0" scope="col">{{ cliente.domicilio }}</td>
          <td class="td-0" scope="col">{{ cliente.noExterior }}</td>
          <td class="td-0" scope="col">{{ cliente.colonia }}</td>
          <td class="td-0" scope="col">{{ cliente.municipio }}</td>
          <td class="td-0" scope="col">{{ cliente.codigoPostal }}</td>
          <td class="td-0" scope="col">
            <div class="flex gap-2">
              <button
                (click)="NuevaCuentaBancariaClientes(cliente.id)"
                ngbTooltip="Nueva Cuenta Bancaria"
                placement="top"
                triggers="mouseenter:mouseleave"
                class="bg-[#51aec7] hover:bg-hoverButton h-auto titular items-center bg-custom-bg flex font-bold tracking-wider m-0 text-center"
              >
                <img src="assets/add.svg" alt="" />
              </button>
              <button
                (click)="abrirModalCCCliente(cliente)"
                ngbTooltip="Asignar Cuenta Contable"
                placement="top"
                triggers="mouseenter:mouseleave"
                class="bg-[#51aec7] hover:bg-hoverButton h-auto titular items-center bg-custom-bg flex font-bold tracking-wider m-0 text-center"
              >
                <img src="assets/add.svg" alt="" />
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<section class="m-2" *ngIf="clienteSeleccionado">
  <mat-tab-group
    class="first-custom-tab-group"
    animationDuration="0ms"
    (selectedTabChange)="yourFn($event)"
    [selectedIndex]="selectedIndex"
  >
    <mat-tab label="Cuentas Bancarias">
      <div>
        <app-cuentas-bancarias-contratista
          *appRecarga="appRecarga"
          [IdClienteInput]="idCliente"
          [IdEmpresaInput]="selectedEmpresa"
        ></app-cuentas-bancarias-contratista>
      </div>
    </mat-tab>
    <mat-tab label="Cuentas contables">
      <div *ngIf="selectedIndex === 1">
        <app-table-cuentas-contables
          *appRecarga="appRecarga"
          [IdClienteInput]="idCliente"
        ></app-table-cuentas-contables>
      </div>
    </mat-tab>
  </mat-tab-group>
</section>
