<mat-tab-group
  class="first-custom-tab-group mt-3 z-40"
  animationDuration="1ms"
  (selectedTabChange)="yourFn($event)"
  [selectedIndex]="selectedIndex"
>
  <mat-tab label="Resumen ordenes de compra">
    <div *ngIf="selectedIndex === 0"></div>
  </mat-tab>
  <mat-tab label="Insumos comprados">
    <div *ngIf="selectedIndex === 1"></div>
  </mat-tab>
</mat-tab-group>

<div class="flex justify-between gap-4">
  <div class="flex gap-2 pt-2 w-screen">
    <div style="width: 20%" *ngIf="selectedIndex === 0">
      <div>Comprados</div>
      <div>
        <select
          (ngModelChange)="filtrarXEstatusInsumo($event)"
          [(ngModel)]="selectedEstatusInsumo"
          class="form-select mt-1 block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        >
          <option value="0">Todos</option>
          <option value="1">Pendientes</option>
          <option value="2">Surtido Parcialmente</option>
          <option value="3">Surtido Totalmente</option>
        </select>
      </div>
    </div>
    <div style="width: 20%" *ngIf="selectedIndex === 0">
      <div>Pagadas</div>
      <div>
        <select
          (ngModelChange)="filtrarXEstatusPagado($event)"
          [(ngModel)]="selectedEstatusPagado"
          class="form-select mt-1 block w-full px-2 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
        >
          <option value="0">Todos</option>
          <option value="1">Pendientes</option>
          <option value="2">Pagado Parcialmente</option>
          <option value="3">Pagado Totalmente</option>
        </select>
      </div>
    </div>
    <div style="width: 20%">
      <div>Proyectos</div>
      <div>
        <input
          type="text"
          (input)="filtrarTabla($event)"
          [(ngModel)]="nombreProyecto"
          placeholder="Selecciona un proyecto"
          [formControl]="proyectoControl"
          [matAutocomplete]="auto"
          class="border-none rounded-lg bg-gray300 text-gray700 font-medium p-1 lg:w-52 md:w-36 xms:w-28 xs:w-24 xs:text-xs"
          #textoDataList
          (click)="reiniciarFiltro()"
        />
        <mat-autocomplete
          #auto="matAutocomplete"
          (optionSelected)="selectionChangeProyecto($event)"
        >
          <mat-option
            class="mat-option-css"
            style="font-weight: 500; font-size: 14px; border-radius: 7px"
            *ngFor="let proyecto of filteredProyectos | async"
            [value]="proyecto"
            >{{ proyecto.nombre }}</mat-option
          >
        </mat-autocomplete>
      </div>
    </div>
    <div
      style="width: 20%"
      *ngIf="existenInsumosComprados && selectedIndex === 1"
    >
      <div>Insumos</div>
      <div>
        <input
          type="text"
          (input)="filtraInsumo($event)"
          [(ngModel)]="descripcionInsumo"
          placeholder="Selecciona un insumo"
          [formControl]="InsumoControl"
          [matAutocomplete]="auto"
          class="border-none rounded-lg bg-gray300 text-gray700 font-medium p-1 lg:w-52 md:w-36 xms:w-28 xs:w-24 xs:text-xs"
          #textoDataList
        />
        <mat-autocomplete
          #auto="matAutocomplete"
          (optionSelected)="selectionChangeInsumo($event)"
        >
          <mat-option
            class="mat-option-css"
            style="font-weight: 500; font-size: 14px; border-radius: 7px"
            *ngFor="let insumo of filteredInsumos | async"
            [value]="insumo"
            >{{ insumo.descripcion }}</mat-option
          >
        </mat-autocomplete>
      </div>
    </div>
  </div>
  <div *ngIf="selectedIndex === 1" class="justify-end">
    <div class="flex flex-row bg-white shadow-sm rounded-t-lg p-1 items-end">
      <div
        class="flex items-center justify-center flex-shrink-0 h-10 w-10 rounded-xl bg-[#4eaac138] text-[#4eaac1]"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
          ></path>
        </svg>
      </div>
      <div class="flex flex-col flex-grow ml-4">
        <div class="text-sm text-[#6b7280]">Total</div>
        <div class="font-bold text-base">
          <span>{{ importeTotalInsumosConFormato }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="p-[7px] bg-transparent" *ngIf="selectedIndex === 0">
  <div class="rounded-lg shadow-md overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full text-sm xs:table-fixed">
        <thead class="bg-primario text-white">
          <tr class="xs:text-[10px]">
            <th
              class="px-1 py-[2px] xs:w-[50px] md:hidden lg:hidden"
              scope="col"
            ></th>
            <th class="px-1 py-[2px]" scope="col">No. Orden</th>
            <th class="px-1 py-[2px]" scope="col">Proyecto</th>
            <th class="px-[2px] py-[2px] xs:hidden" scope="col">Registro</th>
            <th class="px-[2px] py-[2px] text-center xs:hidden" scope="col">
              Estatus
            </th>
            <th class="px-[2px] py-[2px] text-center xs:hidden" scope="col">
              Insumos Comprados
            </th>
            <th class="px-[2px] py-[2px] text-center xs:hidden" scope="col">
              Estatus Pagada
            </th>
            <th class="px-[2px] py-[2px] text-center" scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray300">
          <tr *ngIf="!filteredOrdenes">
            <td
              scope="col"
              colspan="7"
              class="xs:hidden font-medium text-center text-gray700 hover:bg-gray200 animation duration-200"
            >
              No hay ordenes de compra.
            </td>
            <td
              scope="col"
              colspan="5"
              class="md:hidden lg:hiddenfont-medium text-center text-gray700 hover:bg-gray200 animation duration-200 text-[8px]"
            >
              No hay ordenes de compra.
            </td>
          </tr>
          <ng-container *ngFor="let oc of filteredOrdenes | async">
            <tr
              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
              [ngClass]="{ 'change-background-color': oc.id == changeColor }"
            >
              <td class="md:hidden lg:hidden" scope="col">
                <img
                  (click)="desplegarInformacion(oc)"
                  *ngIf="oc.isExpanded"
                  src="./assets/arrow_down.svg"
                  alt="icono de flecha abrir"
                />
                <img
                  (click)="desplegarInformacion(oc)"
                  *ngIf="!oc.isExpanded"
                  src="./assets/arrow_right.svg"
                  alt="icono de flecha cerrar"
                />
              </td>
              <td class="px-1 py-[2px]" scope="col">
                <input
                  readonly
                  autocomplete="off"
                  type="text"
                  class="bg-transparent w-[70%]"
                  [(ngModel)]="oc.noOrdenCompra"
                />
              </td>
              <td class="px-1 py-[2px]" scope="col">
                <input
                  readonly
                  autocomplete="off"
                  type="text"
                  class="bg-transparent w-[70%]"
                  [(ngModel)]="oc.nombreProyecto"
                />
              </td>
              <td class="px-1 py-[2px] xs:hidden" scope="col">
                {{ oc.fechaRegistro | date : "dd-MM-yyyy" }}
              </td>
              <td class="px-1 py-[2px] xs:hidden" scope="col">
                <!-- {{ oc.estatus === 1 ? "Capturada" : "" }} -->
                <div class="flex justify-center h-full xs:hidden">
                  <div
                    class="bg-blue100 rounded-lg w-28 h-5"
                    *ngIf="oc.estatus === 1"
                  >
                    <p class="text-blue600 text-center">Capturada</p>
                  </div>
                  <div class="bg-amber100 rounded-lg w-28 h-5" *ngElse>
                    <p class="text-amber600 text-center">No disponible</p>
                  </div>
                </div>
              </td>
              <td class="px-1 py-[2px] xs:hidden" scope="col">
                <!-- {{ oc.estatusInsumosSurtidosDescripcion }} -->
                <div class="flex justify-center h-full">
                  <div
                    class="bg-amber50 rounded-lg w-28 h-5"
                    *ngIf="oc.estatusInsumosSurtidosDescripcion === 'Pendiente'"
                  >
                    <p class="text-amber500 text-center">Pendiente</p>
                  </div>
                  <div
                    class="bg-blue100 rounded-lg w-48 h-5"
                    *ngIf="
                      oc.estatusInsumosSurtidosDescripcion ===
                      'Surtida parcialmente'
                    "
                  >
                    <p class="text-blue600 text-center">Surtido parcialmente</p>
                  </div>
                  <div
                    class="bg-green100 rounded-lg w-48 h-5"
                    *ngIf="
                      oc.estatusInsumosSurtidosDescripcion ===
                      'Surtida totalmente'
                    "
                  >
                    <p class="text-green600 text-center">Surtido totalmente</p>
                  </div>
                </div>
              </td>
              <td class="px-1 py-[2px] xs:hidden" scope="col">
                <div class="flex justify-center h-full">
                  <div
                    class="bg-amber50 rounded-lg w-28 h-5"
                    *ngIf="oc.estatusSaldado == 1 || oc.estatusSaldado == 0"
                  >
                    <p class="text-amber500 text-center">Pendiente</p>
                  </div>
                  <div
                    class="bg-blue100 rounded-lg w-48 h-5"
                    *ngIf="oc.estatusSaldado == 2"
                  >
                    <p class="text-blue600 text-center">Pagado parcialmente</p>
                  </div>
                  <div
                    class="bg-green100 rounded-lg w-48 h-5"
                    *ngIf="oc.estatusSaldado == 3"
                  >
                    <p class="text-green600 text-center">Pagado totalmente</p>
                  </div>
                </div>
              </td>
              <td class="px-1 py-[2px]" scope="col">
                <div class="flex gap-2 justify-center">
                  <div *ngIf="!insumosEstado">
                    <img
                      ngbTooltip="Ver insumos"
                      triggers="mouseenter:mouseleave"
                      class="cursor-pointer mx-auto xs:w-4"
                      src="./assets/visibility_btn.svg"
                      alt="ver insumos"
                      (click)="showModal(oc)"
                    />
                  </div>
                  <div *ngIf="!insumosEstado">
                    <img
                      ngbTooltip="Cargar facturas"
                      triggers="mouseenter:mouseleave"
                      class="cursor-pointer mx-auto xs:w-4"
                      src="./assets/upload_file.svg"
                      alt="ver insumos"
                      (click)="nuevaFacturaOrdenCompra(oc.id)"
                    />
                  </div>
                </div>
              </td>
            </tr>
            <tr
              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
              *ngIf="oc.isExpanded"
            >
              <td class="px-1 py-[2px]" scope="col" colspan="5">
                <div class="flex gap-1">
                  <label class="font-bold">Fecha de Registro:</label>
                  {{ oc.fechaRegistro | date : "dd-MM-yyyy" }}
                </div>
              </td>
            </tr>
            <tr
              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
              *ngIf="oc.isExpanded"
            >
              <td class="px-1 py-[2px]" scope="col" colspan="5">
                <!-- {{ oc.estatus === 1 ? "Capturada" : "" }} -->
                <div class="flex gap-1">
                  <label class="font-bold">Estatus:</label>
                  <div class="flex justify-center h-full">
                    <div
                      class="bg-blue100 rounded-lg w-28 h-5"
                      *ngIf="oc.estatus === 1"
                    >
                      <p class="text-blue600 text-center">Capturada</p>
                    </div>
                    <div class="bg-amber100 rounded-lg w-28 h-5" *ngElse>
                      <p class="text-amber600 text-center">No disponible</p>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
            <tr
              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
              *ngIf="oc.isExpanded"
            >
              <td class="px-1 py-[2px]" scope="col" colspan="5">
                <!-- {{ oc.estatusInsumosSurtidosDescripcion }} -->
                <div class="flex gap-1">
                  <label class="font-bold">Estatus de insumos:</label>
                  <div class="flex justify-center h-full">
                    <div
                      class="bg-amber50 rounded-lg w-28 h-5"
                      *ngIf="
                        oc.estatusInsumosSurtidosDescripcion === 'Pendiente'
                      "
                    >
                      <p class="text-amber500 text-center">Pendiente</p>
                    </div>
                    <div
                      class="bg-blue100 rounded-lg w-48 h-5"
                      *ngIf="
                        oc.estatusInsumosSurtidosDescripcion ===
                        'Surtida parcialmente'
                      "
                    >
                      <p class="text-blue600 text-center">
                        Surtido parcialmente
                      </p>
                    </div>
                    <div
                      class="bg-green100 rounded-lg w-48 h-5"
                      *ngIf="
                        oc.estatusInsumosSurtidosDescripcion ===
                        'Surtida totalmente'
                      "
                    >
                      <p class="text-green600 text-center">
                        Surtido totalmente
                      </p>
                    </div>
                  </div>
                </div>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="p-[7px] bg-transparent" *ngIf="selectedIndex === 1">
  <div class="rounded-lg shadow-md overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full text-sm xs:table-fixed">
        <thead class="bg-primario text-white">
          <tr class="xs:text-[10px]">
            <th
              class="px-1 py-[2px] xs:w-[50px] md:hidden lg:hidden"
              scope="col"
            ></th>
            <th class="px-1 py-[2px]" scope="col">No. Orden</th>
            <th class="px-1 py-[2px]" scope="col">Cantidad</th>
            <th class="px-1 py-[2px]" scope="col">Precio Unitario</th>
            <th class="px-1 py-[2px]" scope="col">Importe sin IVA</th>
            <th class="px-1 py-[2px]" scope="col">Importe con IVA</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray300">
          <tr *ngIf="!ordenesCommpraXInsumo.length">
            <td
              scope="col"
              colspan="7"
              class="xs:hidden font-medium text-center text-gray700 hover:bg-gray200 animation duration-200"
            >
              No hay ordenes de compra.
            </td>
            <td
              scope="col"
              colspan="5"
              class="md:hidden lg:hiddenfont-medium text-center text-gray700 hover:bg-gray200 animation duration-200 text-[8px]"
            >
              No hay ordenes de compra.
            </td>
          </tr>
          <ng-container *ngFor="let oc of ordenesCommpraXInsumo">
            <tr
              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
            >
              <td class="px-1 py-[2px]" scope="col">{{ oc.noOrdenCompra }}</td>
              <td class="px-1 py-[2px]" scope="col">{{ oc.cantidad }}</td>
              <td class="px-1 py-[2px]" scope="col">{{ oc.precioUnitario }}</td>
              <td class="px-1 py-[2px]" scope="col">{{ oc.importeSinIva }}</td>
              <td class="px-1 py-[2px]" scope="col">{{ oc.importeConIva }}</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div *ngIf="prueba">
  <app-modal-orden-compra
    *appRecarga="appRegarga"
    [isOpen]="isOpenModal"
    [ordenCompra]="isOrdenCompra"
    (close)="closeModal()"
  >
  </app-modal-orden-compra>
</div>

<ng-template #dialogNuevaFactura>
  <div
    class="fixed inset-0 z-10 w-screen overflow-y-auto"
    (click)="limpiarCargarFactura()"
  >
    <div
      class="content-center sm:flex min-h-full items-cen justify-center p-4 text-center sm:items-center sm:p-0"
    >
      <!-- Evita que el clic se propague al contenedor padre (overlay) -->

      <div
        class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-4xl"
        (click)="detenerCierre($event)"
      >
        <!-- detenerCierre(event: MouseEvent): Método que detiene la propagación del evento de clic cuando se hace clic dentro del contenido del modal, asegurando que el modal no se cierre inadvertidamente. -->
        <div class="px-9 mt-4 mb-1 flex justify-between">
          <h2 class="font-normal tracking-[2px] leading-8 text-base">
            Nueva Validación
          </h2>
          <button
            type="button"
            class="leading-none absolute top-0 right-0 px-4 py-3 text-2xl"
            (click)="limpiarCargarFactura()"
          >
            &times;
          </button>
        </div>
        <div class="bg-white px-4 pb-4 sm:p-2 sm:pb-4">
          <div>
            <div class="overflow-x-auto whitespace-nowrap w-full m-auto mt-1">
              <div class="mb-3 flex">
                <input
                  type="file"
                  class="form-control text-gray-700"
                  multiple
                  (change)="onFileChangeFactura($event)"
                />
                <div
                  class="border-2 bg-colorButton rounded-lg p-2 hover:border-blue-200 transition-all duration-300 cursor-pointer"
                  ngbTooltip="Cargar factura"
                  triggers="mouseenter:mouseleave"
                >
                  <img
                    src="./assets/check_circle.svg"
                    alt=""
                    (click)="cargarFactura()"
                  />
                </div>
              </div>
              <div>
                <div class="rounded-lg shadow-md overflow-hidden mb-4">
                  <div class="overflow-x-auto">
                    <table class="w-full text-sm xs:table-fixed">
                      <thead class="bg-primario text-white">
                        <tr class="xs:text-[10px]">
                          <th class="px-1 py-[2px]" scope="col">
                            Total Orden Compra
                          </th>
                          <th class="px-[2px] py-[2px]" scope="col">
                            Total Facturado
                          </th>
                          <th class="px-[2px] py-[2px]" scope="col">Estatus</th>
                        </tr>
                      </thead>
                      <tbody class="divide-y divide-gray300">
                        <ng-container>
                          <tr
                            class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
                          >
                            <td class="px-1 py-[2px]" scope="col">
                              {{ ordenCompraFacturas.montoTotalOrdenCompra }}
                            </td>
                            <td class="px-1 py-[2px]" scope="col">
                              {{ ordenCompraFacturas.montoTotalFactura }}
                            </td>
                            <td class="px-1 py-[2px]" scope="col">
                              <div class="flex justify-center h-full">
                                <div
                                  class="bg-blue100 rounded-lg w-28 h-5"
                                  *ngIf="
                                    ordenCompraFacturas.estatusSaldado === 1
                                  "
                                >
                                  <p class="text-blue600 text-center">
                                    Pendiente por pagar
                                  </p>
                                </div>
                                <div
                                  class="bg-blue100 rounded-lg w-28 h-5"
                                  *ngIf="
                                    ordenCompraFacturas.estatusSaldado === 1
                                  "
                                >
                                  <p class="text-blue600 text-center">
                                    Pendiente por pagar
                                  </p>
                                </div>
                                <div
                                  class="bg-green100 rounded-lg w-28 h-5"
                                  *ngIf="
                                    ordenCompraFacturas.estatusSaldado === 2
                                  "
                                >
                                  <p class="text-green600 text-center">
                                    Pagada Parcialmente
                                  </p>
                                </div>
                                <div
                                  class="bg-green100 rounded-lg w-28 h-5"
                                  *ngIf="
                                    ordenCompraFacturas.estatusSaldado === 3
                                  "
                                >
                                  <p class="text-green600 text-center">
                                    Pagada totalmente
                                  </p>
                                </div>
                              </div>
                            </td>
                          </tr>
                        </ng-container>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div>
                  <div class="rounded-lg shadow-md overflow-hidden">
                    <div class="overflow-x-auto">
                      <table class="w-full text-sm xs:table-fixed">
                        <thead class="bg-primario text-white">
                          <tr class="xs:text-[10px]">
                            <th class="px-1 py-[2px]" scope="col">Uuid</th>
                            <th class="px-1 py-[2px]" scope="col">
                              Fecha Emision
                            </th>
                            <th class="px-1 py-[2px]" scope="col">Total</th>
                            <th class="px-1 py-[2px] text-center" scope="col">
                              Estatus
                            </th>
                            <th
                              class="px-1 py-[2px] text-center"
                              scope="col"
                            ></th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-gray300">
                          <ng-container
                            *ngFor="
                              let fxoc of ordenCompraFacturas.facturasXOrdenCompra
                            "
                          >
                            <tr
                              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
                            >
                              <td
                                class="px-1 py-[2px]"
                                scope="col"
                                (click)="facturaDetalleSelected(fxoc)"
                              >
                                {{ fxoc.uuid }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ fxoc.fechaEmision }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ fxoc.total }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                <!-- {{ fxoc.estatus }} -->
                                <div class="flex justify-center h-full">
                                  <div
                                    class="bg-blue100 rounded-lg w-28 h-5"
                                    *ngIf="fxoc.estatus === 1"
                                  >
                                    <p class="text-blue600 text-center">
                                      Capturada
                                    </p>
                                  </div>
                                  <div
                                    class="bg-green100 rounded-lg w-28 h-5"
                                    *ngIf="fxoc.estatus === 2"
                                  >
                                    <p class="text-green600 text-center">
                                      Autorizada
                                    </p>
                                  </div>
                                  <div
                                    class="bg-green100 rounded-lg w-28 h-5"
                                    *ngIf="fxoc.estatus === 3"
                                  >
                                    <p class="text-green600 text-center">
                                      Pagada parcialmente
                                    </p>
                                  </div>
                                  <div
                                    class="bg-green100 rounded-lg w-28 h-5"
                                    *ngIf="fxoc.estatus === 4"
                                  >
                                    <p class="text-green600 text-center">
                                      Pagada totalmente
                                    </p>
                                  </div>
                                  <div
                                    class="bg-green100 rounded-lg w-28 h-5"
                                    *ngIf="fxoc.estatus === 5"
                                  >
                                    <p class="text-green600 text-center">
                                      Cancelada
                                    </p>
                                  </div>
                                </div>
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                <div class="flex">
                                  <img
                                    (click)="autorizarFactura(fxoc)"
                                    *ngIf="fxoc.estatus == 1"
                                    src="./assets/authorize_facture.svg"
                                    alt=""
                                    class="cursor-pointer mx-auto"
                                    ngbTooltip="Autorizar"
                                    triggers="mouseenter:mouseleave"
                                  />
                                  <img
                                    (click)="cancelarFactura(fxoc)"
                                    *ngIf="fxoc.estatus == 1"
                                    src="./assets/authorize_facture.svg"
                                    alt=""
                                    class="cursor-pointer mx-auto"
                                    ngbTooltip="Cancelar"
                                    triggers="mouseenter:mouseleave"
                                  />
                                </div>
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <div *ngIf="detalleFacturaXOC.length > 0">
                  <div class="rounded-lg shadow-md overflow-hidden mt-4">
                    <div class="overflow-x-auto">
                      <table class="w-full text-sm xs:table-fixed">
                        <thead class="bg-primario text-white">
                          <tr class="xs:text-[10px]">
                            <th class="px-1 py-[2px]" scope="col">
                              Descripcion
                            </th>
                            <th class="px-1 py-[2px]" scope="col">Unidad</th>
                            <th class="px-1 py-[2px]" scope="col">Cantidad</th>
                            <th class="px-1 py-[2px]" scope="col">
                              Precion Unitario
                            </th>
                            <th class="px-1 py-[2px]" scope="col">Descuento</th>
                            <th class="px-1 py-[2px]" scope="col">Importe</th>
                          </tr>
                        </thead>
                        <tbody class="divide-y divide-gray300">
                          <ng-container
                            *ngFor="let detFactura of detalleFacturaXOC"
                          >
                            <tr
                              class="font-medium text-gray700 hover:bg-gray200 animation duration-200 xs:text-[8px]"
                            >
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.descripcion }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.unidadSat }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.cantidad }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.precioUnitario }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.descuento }}
                              </td>
                              <td class="px-1 py-[2px]" scope="col">
                                {{ detFactura.importe }}
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-gray-50 px-2 py-2 flex justify-end gap-4">
          <button
            class="rounded-md px-4 py-2 bg-colorButton transition-all duration-300 text-white text-sm shadow-sm hover:bg-colorButtonHover"
            (click)="limpiarCargarFactura()"
          >
            Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>
